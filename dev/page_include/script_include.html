<!-- script_include -->

<!-- plugin_handlebars -->
<script type="text/javascript" src="../plugin/handlebars/handlebars-v4.7.6.js"></script>
<!-- //plugin_handlebars -->

<!-- plugin_swiper -->
<link rel="stylesheet" type="text/css" href="../plugin/swiper-master/css/swiper.min.css">
<script type="text/javascript" src="../plugin/swiper-master/js/swiper.min.js"></script>
<!-- plugin_swiper -->

<!-- plugin_AOS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<!-- plugin_AOS -->

<script type="text/javascript" src="../js/style.js?v=20201229"></script>

<script>
    // AOS 처음에 한번에 실행되는 문제 해결 - 새로고침
    setTimeout(function() { AOS.refresh(); }, 100);
</script>

<script>

//테스트용
    window.addEventListener('scroll', function(){
        var contentN = document.querySelectorAll('#contents section').length;
        var contentP = [];
        var scrollW = window.scrollY;
        var $nav = $('.lnb_d2_wrap li');
        var $moNav = $('.mo_nav li');
        for(var i = 1; i <= contentN; i++ ) {
            contentP.push(document.getElementById(i).offsetTop - 100);
        }       
        /*첫번째 컨텐트~뒤에서 2번째 컨텐트*/
        for(var i = 1; i < contentN; i++ ) {
            var menu = document.querySelectorAll('.lnb_d2_wrap li');
            if( scrollW >= contentP[i-1] && scrollW < contentP[i]){
                $nav.removeClass('on');
                $nav.eq(i-1).addClass('on');
                $moNav.eq(i-1).addClass('on');
            }                
        }
        if( scrollW >= contentP[contentN-1]){
            $nav.removeClass('on');
            $nav.eq(contentN-1).addClass('on');
            $moNav.eq(contentN-1).addClass('on');
        }
        /*문서 끝 닿을 때*/           
        if (scrollW == $(document).height() - $(window).height() ) {
            $nav.removeClass('on');
            $nav.eq(contentN-1).addClass('on');
            $moNav.eq(contentN-1).addClass('on');
        }
    });
</script>

<!-- //script_include -->