<script>
    // AOS 처음에 한번에 실행되는 문제 해결 - 새로고침
    setTimeout(function() { AOS.refresh(); }, 100);
</script>

<script>
    // 스크롤 이벤트
    window.addEventListener('scroll', function(){
        var contentN = document.querySelectorAll('#contents section').length;
        var contentP = [];
        var scrollW = window.scrollY;
        var nav = document.querySelectorAll(".pc_nav li");
        var moNav = document.querySelectorAll(".mo_nav li");
        var body = document.body;
        var html = document.documentElement;
        var height = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );
        for(var i = 1; i <= contentN; i++ ) {
            contentP.push(document.getElementById(i).offsetTop - 500);
        }       
        for(var a = 0; a < nav.length; a++){
            for(var i = 1; i < contentN; i++ ) {
                if( scrollW >= contentP[i-1] && scrollW < contentP[i]){
                    nav[a].classList.remove("on");
                    nav[i-1].classList.add("on");
                    moNav[a].classList.remove("on");
                    moNav[i-1].classList.add("on");
                }                
            }
            if( scrollW >= contentP[contentN-1]){
                nav[a].classList.remove("on");
                nav[contentN-1].classList.add("on");
                moNav[a].classList.remove("on");
                moNav[contentN-1].classList.add("on");
            }      
            if (scrollW == height - window.innerHeight) {
                nav[a].classList.remove("on");
                nav[contentN-1].classList.add("on");
                moNav[a].classList.remove("on");
                moNav[contentN-1].classList.add("on");
            }   
        }
    });
</script>